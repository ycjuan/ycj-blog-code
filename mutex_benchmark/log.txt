➜  mutex_benchmark git:(mutex_benchmark-2) ✗ ./run.sh
g++ -o mutex_benchmark main.cpp -pthread -O3 -std=c++17
Configuration:
Max number of records: 1000000
Number of threads: 64
Sleep duration (ms): 0
Number of records per thread: 10000

Running recorder with mutex...
--------------------------------
Total record time: 15828177 microseconds
Average record time per transaction: 24.7315 microseconds


Running recorder without mutex...
-----------------------------------
Total record time: 1562965 microseconds
Average record time per transaction: 2.44213 microseconds






g++ -o mutex_benchmark main.cpp -pthread -O3 -std=c++17
Configuration:
Max number of records: 1000000
Number of threads: 64
Sleep duration (ms): 1
Number of records per thread: 10000

Running recorder with mutex...
--------------------------------
Total record time: 1034760 microseconds
Average record time per transaction: 1.61681 microseconds


Running recorder without mutex...
-----------------------------------
Total record time: 139639 microseconds
Average record time per transaction: 0.218186 microseconds











g++ -o mutex_benchmark main.cpp -pthread -O3 -std=c++17
Configuration:
Max number of records: 1000000
Number of threads: 64
Sleep duration (ms): 10
Number of records per thread: 1000

Running recorder with mutex...
--------------------------------
Total record time: 100657 microseconds
Average record time per transaction: 1.57277 microseconds


Running recorder without mutex...
-----------------------------------
Total record time: 15908 microseconds
Average record time per transaction: 0.248562 microseconds

